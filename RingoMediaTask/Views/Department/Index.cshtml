@using DTOs
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model DepartmentViewModel

<h2>@(Model.CurrentDepartment != null ? Model.CurrentDepartment.Name : "Root Departments")</h2>


<h4>Parent Departments:</h4>
<ul>
    @foreach (var parent in Model.ParentDepartments.Entities)
    {
        <li>
            <a asp-action="Index" asp-route-id="@parent.id">@parent.Name</a>
        </li>
    }
</ul>



<h4>Sub-Departments:</h4>
<ul>
    @foreach (var subDepartment in Model.SubDepartments.Entities)
    {
        <li>
            <a asp-action="Index" asp-route-id="@subDepartment.id">@subDepartment.Name</a>
        </li>
    }
</ul>


@if (Model.CurrentDepartment != null)
{
    <a asp-action="Create" asp-route-parentId="@Model.CurrentDepartment.Id">Create Sub-Department</a>
}
else
{
    <a asp-action="Create">Create Root Department</a>
}
